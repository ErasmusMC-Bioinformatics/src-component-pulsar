<!doctype html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <title>Pulsar Configuration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/concrete.css/3.0.0/concrete.min.css">
  <meta name="theme-color" content="#ffffff">

  <style>
    .row {
      display: flex;
      flex-direction: column;
      padding: 0;
    }

    .row .column {
      display: block;
      flex: 1 1 auto;
      margin-left: 0;
      max-width: 100%;
      width: 100%;
    }

    @media (min-width: 30.0rem) {
      .row {
        flex-direction: row;
        margin: 0 -.5rem;
        width: calc(100% + 1rem);
      }

      .row .column {
        margin-bottom: inherit;
        padding: 0 .5rem;
      }
    }
  </style>

</head>

<body>

  <main>
    <h1>Pulsar Configuration Information</h1>
    <p>Auto-generated as part of deployment</p>

    <section>
      <h2>Configuring Galaxy</h2>
      <p>Add the following configuration to your Galaxy <code>job_conf.xml</code>
<pre>
&lt;destination id="remote_{{ inventory_hostname }}" runner="pulsar"&gt;
    &lt;param id="url"&gt;https://{{ workspace_fqdn | default('localhost', true)  }}&lt;/param&gt;
    &lt;param id="dependency_resolution"&gt;remote&lt;/param&gt;
    &lt;param id="private_token"&gt;{{ pulsar_token | default('unknown', true)  }}&lt;/param&gt;
    &lt;param id="manager"&gt;_default_&lt;/param&gt;
    &lt;!-- &lt;param id="jobs_directory"&gt;__PULSAR_JOBS_DIRECTORY__&lt;/param&gt; --&gt;
&lt;/destination&gt;
</pre>
    </section>

    <h2>Ansible Configuration</h2>
    <details>
      <summary>Host Variables</summary>
      <p>Host variables for <code>{{ inventory_hostname }}</code></p>
      <pre>{{ hostvars[inventory_hostname] | to_nice_json }}</pre>
    </details>
  </main>

  <!--
  <footer>
    <hr>
    <p>
    </p>
  </footer>
  -->

</body>

</html>
